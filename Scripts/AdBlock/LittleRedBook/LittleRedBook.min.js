const version="V1.0.11";let body=$response.body;if(body){switch(!0){case/api\/sns\/v\d\/note\/widgets/.test($request.url):try{let e=JSON.parse(body),t=["goods_card_v2","note_next_step"];for(let s of t)e.data?.[s]&&delete e.data[s];body=JSON.stringify(e)}catch(e){console.log("widgets: "+e)}break;case/api\/sns\/v\d\/note\/redtube/.test($request.url):try{let e=JSON.parse(body);for(let t of e.data.items)t.related_goods_num&&(t.related_goods_num=0),t.has_related_goods&&(t.has_related_goods=!1),t.media_save_config&&(t.media_save_config={disable_save:!1,disable_watermark:!0,disable_weibo_cover:!0}),t.share_info&&(t.share_info.function_entries=[{type:"video_download"},{type:"generate_image"},{type:"copy_link"},{type:"native_voice"},{type:"video_speed"},{type:"dislike"},{type:"report"},{type:"video_feedback"}]);body=JSON.stringify(e)}catch(e){console.log("redtube: "+e)}break;case/api\/sns\/v\d\/note\/videofeed/.test($request.url):try{let e=JSON.parse(body);for(let t of e.data)t.related_goods_num&&(t.related_goods_num=0),t.has_related_goods&&(t.has_related_goods=!1),t.media_save_config&&(t.media_save_config={disable_save:!1,disable_watermark:!0,disable_weibo_cover:!0}),t.share_info&&(t.share_info.function_entries=[{type:"video_download"},{type:"generate_image"},{type:"copy_link"},{type:"native_voice"},{type:"video_speed"},{type:"dislike"},{type:"report"},{type:"video_feedback"}]);body=JSON.stringify(e)}catch(e){console.log("videofeed: "+e)}break;case/api\/sns\/v\d\/note\/feed/.test($request.url):try{let e=JSON.parse(body);for(let t of e.data)if(t.related_goods_num&&(t.related_goods_num=0),t.has_related_goods&&(t.has_related_goods=!1),t.note_list)for(let e of t.note_list)e.media_save_config={disable_save:!1,disable_watermark:!0,disable_weibo_cover:!0};body=JSON.stringify(e)}catch(e){console.log("feed: "+e)}break;case/api\/sns\/v\d\/note\/imagefeed/.test($request.url):try{let e=JSON.parse(body);for(let t of e.data)if(t.related_goods_num&&(t.related_goods_num=0),t.has_related_goods&&(t.has_related_goods=!1),t.note_list)for(let e of t.note_list)e.media_save_config={disable_save:!1,disable_watermark:!0,disable_weibo_cover:!0};body=JSON.stringify(e)}catch(e){console.log("imagefeed: "+e)}break;case/api\/sns\/v\d\/homefeed\/categories\?/.test($request.url):try{let e=JSON.parse(body);e.data.categories=e.data.categories.filter((e=>!("homefeed.shop"==e.oid||"homefeed.live"==e.oid))),body=JSON.stringify(e)}catch(e){console.log("categories: "+e)}break;case/api\/sns\/v\d\/search\/hint/.test($request.url):try{let e=JSON.parse(body);e.data?.hint_words&&(e.data.hint_words=[{title:"搜索笔记",type:"firstEnterOther#itemCfRecWord#搜索笔记#1",search_word:"搜索笔记"}]),body=JSON.stringify(e)}catch(e){console.log("hint: "+e)}break;case/api\/sns\/v\d\/search\/hot_list/.test($request.url):try{let e=JSON.parse(body);e.data={scene:"",title:"",items:[],host:"",background_color:{},word_request_id:""},body=JSON.stringify(e)}catch(e){console.log("hot_list: "+e)}break;case/api\/sns\/v\d\/search\/trending/.test($request.url):try{let e=JSON.parse(body);e.data={title:"",queries:[],type:"",word_request_id:""},body=JSON.stringify(e)}catch(e){console.log("trending: "+e)}break;case/api\/sns\/v\d\/system_service\/splash_config/.test($request.url):try{let e=JSON.parse(body);e.data.ads_groups.forEach((e=>{e.start_time="2208963661",e.end_time="2209050061",e.ads&&e.ads.forEach((e=>{e.start_time="2208963661",e.end_time="2209050061"}))})),body=JSON.stringify(e)}catch(e){console.log("splash_config: "+e)}break;case/api\/sns\/v\d\/homefeed\?/.test($request.url):try{let e=JSON.parse(body);e.data=e.data.filter((e=>!e.is_ads)),body=JSON.stringify(e)}catch(e){console.log("homefeed: "+e)}break;case/api\/sns\/v\d\/system_service\/config\?/.test($request.url):try{let e=JSON.parse(body),t=["store","splash","loading_img","app_theme","cmt_words","highlight_tab"];for(let s of t)e.data?.[s]&&delete e.data[s];body=JSON.stringify(e)}catch(e){console.log("system_service: "+e)}break;default:$done({})}$done({body:body})}else $done({});